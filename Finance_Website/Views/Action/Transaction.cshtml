@using Finance_Website.Models.Utilities
@using Library.Classes
@using Library.Classes.Language

@{
    SessionUtility userUtility = Session["UserUtility"] as SessionUtility;
    Language language = userUtility.Language;
    User user = userUtility.User;

    ViewBag.Title = $"{language.GetText(60)} {ViewBag.PaymentName}";
}

<div class="page-header">
    <h1>@ViewBag.Title</h1>
</div>

<div class="row">
    <div class="col-md-4">
        @using (Html.BeginForm("AddTransaction", "Action"))
        {
            <input type="hidden" class="form-control" id="paymentId" name="paymentId" aria-describedby="basic-addon3" value="@ViewBag.PaymentId">

            <div class="form-group">
                <label for="description">@language.GetText(18)</label>
                <div class="input-group">
                    <input type="text" class="form-control" id="description" name="description" aria-describedby="basic-addon3">
                </div>
            </div>

            <div class="form-group">
                <label for="amount">@language.GetText(17)</label>
                <div class="input-group">
                    <input type="number" step="any" class="form-control" id="amount" name="amount" aria-describedby="basic-addon3" required>
                </div>
            </div>

            <div class="form-group">
                <label for="balance">@language.GetText(69)</label>
                <div class="input-group">
                    <select class="form-control" id="balance" name="balanceId">
                        <option value="-1" selected>@language.GetText(70)</option>
                        @if (user != null)
                        {
                            foreach (Balance balance in user.Balances)
                            {
                                <option value="@balance.Id">@balance.Name</option>
                            }
                        }
                    </select>
                </div>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-primary">
                    @language.GetText(1)
                </button>
            </div>
        }
    </div>
</div>

